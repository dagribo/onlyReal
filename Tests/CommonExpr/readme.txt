Оптимизация общих подвыражений (простейшая).

Локальная оптимизация, оптимизирует общие подвыражения в пределах одного базового блока.

Исходный код:
{
  a = b + c;
  b = a - d;
  c = b + c;
  d = a - d;
}

Оптимизированный код:
{
  a = b + c;
  b = a - d;
  c = b + c;
  d = b;
}

Применение оптимизации:
var ce = new CommonExpr(treeCode);   //Создание экземпляра класса оптимизации, по исходной программе treeCode
var new_code = ce.Optimize();        //Вызов метода, оптимизирующего код. Возвращает трехадресный код программы после оптимизации.